# Архитектурные и технические решения

### 1. Выбор модели (YOLOv8)
Для детекции людей я решила использовать библиотеку `ultralytics` с моделью YOLOv8.  
- **Почему:** Она реально круто балансирует скорость и точность — работает быстро и не жрёт слишком много ресурсов.  
- **Конфигурация:** В зависимости от задачи беру либо `yolov8m.pt` (Medium), либо `yolov8n.pt` (Nano).  
- **Оптимизация:** Не детектирую каждый кадр, а пропускаю часть (`FRAME_STEP`), потому что для охранной задачи это достаточно и сильно разгружает компьютер.  

### 2. Алгоритм детекции проникновения
Реализован в `detect.py`. Идея проста, но с важной доработкой: я проверяю не только центр тела, а несколько ключевых точек человека.  

- Смотрю на **три точки головы** (левый угол, центр, правый угол) и **три точки ступней** (тоже левый, центр, правый).  
- **Почему:** Иногда человек заходит в зону только головой или одной ногой, и простая проверка центра может это не заметить. Проверка этих шести точек сильно уменьшает вероятность пропусков и делает систему более надёжной.  
- Для каждой точки использую `cv2.pointPolygonTest` (алгоритм Ray Casting) — он мгновенно проверяет, находится ли точка внутри полигона зоны.  

### 3. Логика тревоги (Timer)
Сделала небольшую “инерцию” тревоги:  
- Если человек вдруг исчезает из кадра или выходит из зоны, тревога **не выключается сразу**, а держится ещё 3 секунды.  
- **Как это работает:** Считаю кадры через FPS видео (`fps * 3 sec`), так что система ведёт себя плавно и не дергается.  

### 4. Почему я не использовала DeepSort
Я решила не добавлять трекер, чтобы следовать принципу **KISS (Keep It Simple, Stupid)**:  
- DeepSort или ByteTrack сильно усложнили бы архитектуру и нагрузили бы ресурсы.  
- Для нашей задачи — просто заметить, что человек в зоне — обычного YOLO вполне достаточно.  

### 5. Структура проекта
- `main.py` — стартовая точка, здесь цикл обработки видео и отрисовка интерфейса.  
- `detect.py` — чисто проверка ключевых точек в полигоне, без лишнего кода.  
- `restricted_zones.py` — утилита для создания JSON с зонами, чтобы можно было легко их настраивать.